@if (!verComunidad) {

    <div>
        <h2 class="titulo-ruta">COMUNIDADES PERSONALIZADAS</h2>
        <button class="boton-general btn-volver" (click)="goBack()">↽ Volver</button>
        <button style="margin: 0 auto;" class="boton-general btn-volver" routerLink="/comunidades/crear">+ Crear</button>
    </div>

    <div class="contenedor-fichas">
        @for (comunidad of comunidades; track $index) {
    
            <div class="ficha">
                <img [src]="comunidad.image" alt="Juego de la biblioteca">
                <h2>{{ comunidad.title }}</h2>
                <hr>

                <span>{{ comunidad.description | truncate:85 }}</span>
    
                <button [routerLink]="['/comunidades/personalizada/', comunidad.community_id]">Ver Comunidad</button>
                
            </div>
        }
    </div>


} @else {
    
    <div>
        <h2 class="titulo-ruta">{{ comunidadActiva?.title }} 
            <button class="boton-general btn-volver" (click)="goBack()">↽ Volver</button>
            <span class="subtitulo-descripcion">{{ comunidadActiva?.description }}</span> 
        </h2>
        <p class="texto-miembros">Nº Miembros: {{ usuariosComunidad.length }}</p>

        <!-- Botones -->
        <div class="botones-comunidad">
            <button class="boton-general">Unirse</button>
            <button class="boton-general boton-salir">Salir</button>
            <button class="boton-general boton-eliminar">Eliminar</button>
        </div>
    </div>
    
    <div class="contenedor-fichas">
        @for (usuario of usuariosComunidad; track $index) {
       
            <div class="ficha usuario">
                <img [src]="usuario.profile_picture" alt="Juego de la biblioteca">
                <h2>{{ usuario.username }}</h2>
                <hr>
                <span>Juegos totales: {{ usuario.total_games }}</span>
    
                <button [routerLink]="['/perfil', usuario.user_email]">Ver Perfil</button>
            </div>
        }
    </div>    

}
